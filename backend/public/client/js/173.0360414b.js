"use strict";(globalThis["webpackChunkfrontend"]=globalThis["webpackChunkfrontend"]||[]).push([[173],{173:(e,a,t)=>{t.r(a),t.d(a,{default:()=>L});var n=t(9835),o=t(1957),l=t(6970);const i={class:"q-pa-md column"},d={class:"col"};function s(e,a,t,s,m,u){const p=(0,n.up)("q-btn"),r=(0,n.up)("q-icon"),c=(0,n.up)("q-input"),g=(0,n.up)("q-item-section"),f=(0,n.up)("q-item"),w=(0,n.up)("q-list"),_=(0,n.up)("q-menu"),h=(0,n.up)("q-td"),q=(0,n.up)("q-tr"),W=(0,n.up)("q-table"),k=(0,n.up)("StatementDialog"),y=(0,n.up)("q-spinner"),Z=(0,n.up)("q-inner-loading"),Q=(0,n.up)("q-page"),b=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(Q,{style:{display:"grid"}},{default:(0,n.w5)((()=>[(0,n._)("div",i,[(0,n._)("div",d,[(0,n.Wm)(W,{"rows-per-page-options":[m.pagination.rowsPerPage],columns:m.columns,filter:m.filter,rows:m.data,"row-key":"id",pagination:m.pagination,onRequest:u.onRequest},{"top-left":(0,n.w5)((()=>[(0,n.Uk)(" Statements ")])),"top-right":(0,n.w5)((()=>[(0,n.Wm)(p,{class:"q-mx-md q-px-md",dense:"",color:"primary","no-caps":"",icon:"mdi-plus",label:"Add",onClick:a[0]||(a[0]=e=>u.storeStatement(null))}),(0,n.Wm)(c,{debounce:"600",filled:"",dense:"",modelValue:m.filter,"onUpdate:modelValue":a[1]||(a[1]=e=>m.filter=e),label:"Search"},{append:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"mdi-magnify"})])),_:1},8,["modelValue"])])),body:(0,n.w5)((e=>[(0,n.Wm)(q,{class:"cursor-pointer",props:e,onClick:a=>u.storeStatement(e.row)},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{key:"menu"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{flat:"",dense:"",round:"",icon:"mdi-dots-vertical",onClick:a[2]||(a[2]=(0,o.iM)((()=>{}),["stop","prevent"]))},{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{style:{"min-width":"150px"}},{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(f,{clickable:"",onClick:a=>u.storeStatement(e.row)},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"mdi-pencil",color:"primary"})])),_:1}),(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Edit")])),_:1})])),_:2},1032,["onClick"])),[[b]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(f,{clickable:"",onClick:a=>u.deleteStatement(e.row.id)},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"mdi-delete",color:"red"})])),_:1}),(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Delete")])),_:1})])),_:2},1032,["onClick"])),[[b]])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,n.Wm)(h,{key:"id"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.row.id),1)])),_:2},1024),(0,n.Wm)(h,{key:"name"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.row.name),1)])),_:2},1024),(0,n.Wm)(h,{key:"date"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.row.date),1)])),_:2},1024),(0,n.Wm)(h,{key:"created_at"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.row.created_at),1)])),_:2},1024),(0,n.Wm)(h,{key:"updated_at"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.row.updated_at),1)])),_:2},1024)])),_:2},1032,["props","onClick"])])),_:1},8,["rows-per-page-options","columns","filter","rows","pagination","onRequest"])])]),(0,n.Wm)(k,{dialog:m.statementDialogShow,"onUpdate:dialog":a[3]||(a[3]=e=>m.statementDialogShow=e),info:m.statementDialogData,onReload:u.loadStatements},null,8,["dialog","info","onReload"]),(0,n.Wm)(Z,{showing:m.loading},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{size:"30px",color:"primary"})])),_:1},8,["showing"])])),_:1})}var m=t(4409),u=t.n(m);const p={class:"row q-col-gutter-sm"},r={class:"col-12"},c=(0,n._)("div",null,"Name",-1),g={class:"col-12"},f=(0,n._)("div",null,"Date",-1);function w(e,a,t,o,l,i){const d=(0,n.up)("q-btn"),s=(0,n.up)("q-space"),m=(0,n.up)("q-toolbar"),u=(0,n.up)("q-card-section"),w=(0,n.up)("q-input"),_=(0,n.up)("q-date"),h=(0,n.up)("q-menu"),q=(0,n.up)("q-icon"),W=(0,n.up)("q-spinner"),k=(0,n.up)("q-inner-loading"),y=(0,n.up)("q-card"),Z=(0,n.up)("q-dialog"),Q=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(Z,{modelValue:i._dialog,"onUpdate:modelValue":a[5]||(a[5]=e=>i._dialog=e),onHide:i.hide},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{style:{width:"500px","max-width":"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"q-pa-sm"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"q-pa-none"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(d,{flat:"",dense:"",round:"",icon:"mdi-close"},null,512),[[Q]]),(0,n.Wm)(s),(0,n.Wm)(d,{class:"q-px-md",dense:"",color:"primary",label:"Save","no-caps":"",onClick:i.store},null,8,["onClick"])])),_:1})])),_:1}),(0,n.Wm)(u,{class:"q-pa-md"},{default:(0,n.w5)((()=>[(0,n._)("div",p,[(0,n._)("div",r,[c,(0,n.Wm)(w,{filled:"",dense:"",modelValue:i._info.name,"onUpdate:modelValue":a[0]||(a[0]=e=>i._info.name=e)},null,8,["modelValue"])]),(0,n._)("div",g,[f,(0,n.Wm)(w,{ref:"dateInput",filled:"",dense:"",modelValue:i._info.date,"onUpdate:modelValue":a[3]||(a[3]=e=>i._info.date=e),onClick:a[4]||(a[4]=a=>e.$refs.dateInput.select())},{prepend:(0,n.w5)((()=>[(0,n.Wm)(q,{color:"primary",name:"mdi-calendar-month"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{ref:"dateMenu"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{"today-btn":"",landscape:"",modelValue:i._info.date,"onUpdate:modelValue":[a[1]||(a[1]=e=>i._info.date=e),a[2]||(a[2]=a=>e.$refs.dateMenu.hide())]},null,8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])])])])),_:1}),(0,n.Wm)(k,{showing:l.loading},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{size:"24px",color:"primary"})])),_:1},8,["showing"])])),_:1})])),_:1},8,["modelValue","onHide"])}const _={name:"StatementDialog",props:["dialog","info"],data(){return{loading:!1}},methods:{hide(){this.loading=!1},store(){const e=this;e.loading=!0;const a=new FormData;a.append("date",e._info.date),a.append("name",e._info.name);var t=e.$s.api+"api/v1/panel/client/statement";e._info.id>0&&(a.append("_method","PATCH"),t=t+"/"+e._info.id),e.$axios.post(t,a).then((function(a){a.data.success&&(e.$emit("reload"),e._dialog=!1),e.notify(a.data.message)})).finally((function(){e.loading=!1}))}},computed:{_dialog:{get(){return this.dialog},set(e){this.$emit("update:dialog",e)}},_info:{get(){return this.info},set(e){this.$emit("update:info",e)}}}};var h=t(1639),q=t(2074),W=t(4458),k=t(3190),y=t(1663),Z=t(4455),Q=t(136),b=t(6611),S=t(2857),D=t(5290),v=t(2535),C=t(854),U=t(3940),V=t(2146),P=t(9984),x=t.n(P);const I=(0,h.Z)(_,[["render",w]]),$=I;x()(_,"components",{QDialog:q.Z,QCard:W.Z,QCardSection:k.Z,QToolbar:y.Z,QBtn:Z.Z,QSpace:Q.Z,QInput:b.Z,QIcon:S.Z,QMenu:D.Z,QDate:v.Z,QInnerLoading:C.Z,QSpinner:U.Z}),x()(_,"directives",{ClosePopup:V.Z});const z={name:"IndexPage",components:{StatementDialog:$},data(){return{loading:!1,filter:"",data:[],columns:[{name:"menu",align:"left"},{name:"id",label:"ID",align:"left",field:"id"},{name:"name",label:"Name",align:"left",field:"name"},{name:"date",label:"Date",align:"left",field:"date"},{name:"created_at",label:"Create Date",align:"left",field:"created_at"},{name:"updated_at",label:"Update Date",align:"left",field:"updated_at"}],pagination:{sortBy:"id",descending:!0,page:1,rowsPerPage:8,rowsNumber:0},statementDialogShow:!1,statementDialogData:[]}},mounted(){this.loadStatements()},methods:{onRequest(e){const a=this;a.loading=!0;var t={params:{sortBy:e.pagination.sortBy,descending:e.pagination.descending,page:e.pagination.page,rowsPerPage:e.pagination.rowsPerPage,search:e.filter}};a.$axios.get(a.$s.api+"api/v1/panel/client/statement",t).then((function(e){e.data.success?(a.data=e.data.data,a.rowsNumber=e.data.meta.total):a.notify(e.data.message)})).finally((function(){a.loading=!1}))},loadStatements(){this.onRequest({pagination:this.pagination,filter:this.filter})},deleteStatement(e){const a=this;a.$q.dialog({title:"Delete",message:"Are you sure to delete this statement?",ok:"Yes",cancel:"No"}).onOk((()=>{a.loading=!0,a.$axios.delete(a.$s.api+"api/v1/panel/client/statement/"+e).then((function(e){e.data.success&&a.loadStatements(),a.notify(e.data.message)})).finally((function(){a.loading=!1}))}))},storeStatement(e){this.statementDialogData=null===e?{id:0,name:"",date:""}:u().cloneDeep(e),this.statementDialogShow=!0}}};var R=t(9885),T=t(4755),B=t(3532),M=t(7220),N=t(3246),j=t(490),A=t(1233);const H=(0,h.Z)(z,[["render",s]]),L=H;x()(z,"components",{QPage:R.Z,QTable:T.Z,QBtn:Z.Z,QInput:b.Z,QIcon:S.Z,QTr:B.Z,QTd:M.Z,QMenu:D.Z,QList:N.Z,QItem:j.Z,QItemSection:A.Z,QInnerLoading:C.Z,QSpinner:U.Z}),x()(z,"directives",{ClosePopup:V.Z})}}]);